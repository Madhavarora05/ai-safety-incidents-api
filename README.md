# AI Safety Incident Log API

ðŸ”— **Repository Link**: [GitHub Repository](https://github.com/your-username/ai-safety-incidents-api)  
*(Replace with your actual repo link!)*

---

This is a RESTful API service for logging and managing AI safety incidents.  
It allows users to **create**, **retrieve**, and **delete** incident reports.

---

## Technology Stack

- **Language**: JavaScript (Node.js)
- **Framework**: Express.js
- **Database**: MongoDB
- **ODM**: Mongoose

---

## Prerequisites

- Node.js (v14 or newer)
- MongoDB (v4.4 or newer)
- npm or yarn

---

## Setup Instructions

1. **Clone the repository**
   ```bash
   git clone https://github.com/your-username/ai-safety-incidents-api.git
   cd ai-safety-incidents-api
   ```

2. **Install dependencies**
   ```bash
   npm install
   ```

3. **Configure Environment Variables**

   Create a `.env` file in the root directory with the following content:
   ```
   MONGODB_URI=mongodb://localhost:27017/ai_safety_incidents
   PORT=3000
   ```

   > Tip: A sample `.env.example` file is provided. You can copy it:
   ```bash
   cp .env.example .env
   ```

4. **Database Initialization**

   - Ensure MongoDB service is running locally.
   - The application will automatically create the database when it connects.

5. **Optional: Seed Sample Data**
   To populate the database with some example incidents:
   ```bash
   npm run seed
   ```

6. **Start the API Server**
   ```bash
   # For development with live-reload
   npm run dev
   
   # For production
   npm start
   ```

---

## Project Structure

```
â”œâ”€â”€ controllers/
â”‚   â””â”€â”€ incidentController.js
â”œâ”€â”€ models/
â”‚   â””â”€â”€ Incident.js
â”œâ”€â”€ routes/
â”‚   â””â”€â”€ incidentRoutes.js
â”œâ”€â”€ seed/
â”‚   â””â”€â”€ seed.js
â”œâ”€â”€ .env.example
â”œâ”€â”€ app.js
â”œâ”€â”€ package.json
â””â”€â”€ README.md
```

---

## API Endpoints

### 1. Get All Incidents
- **Method**: `GET`
- **URL**: `/incidents`
- **Response**: `200 OK` with a JSON array of incidents

Example:
```bash
curl -X GET http://localhost:3000/incidents
```

---

### 2. Get Incident by ID
- **Method**: `GET`
- **URL**: `/incidents/:id`
- **Response**: `200 OK` with a JSON object of the specified incident

Example:
```bash
curl -X GET http://localhost:3000/incidents/64a12b456c78d90e34f12345
```

---

### 3. Create New Incident
- **Method**: `POST`
- **URL**: `/incidents`
- **Request Body**:
  ```json
  {
    "title": "New AI Incident",
    "description": "Details about the incident",
    "severity": "Medium"
  }
  ```
- **Response**: `201 Created` with the new incident object

Example:
```bash
curl -X POST http://localhost:3000/incidents \
  -H "Content-Type: application/json" \
  -d '{"title": "New AI Incident", "description": "Details about the incident", "severity": "Medium"}'
```

---

### 4. Delete Incident
- **Method**: `DELETE`
- **URL**: `/incidents/:id`
- **Response**: `204 No Content`

Example:
```bash
curl -X DELETE http://localhost:3000/incidents/64a12b456c78d90e34f12345
```

---

## Data Structure

Each incident document contains:

| Field         | Type      | Description                                 |
|:--------------|:----------|:--------------------------------------------|
| `_id`         | ObjectId  | Unique identifier (auto-generated by MongoDB) |
| `title`       | String    | Brief summary of the incident               |
| `description` | String    | Detailed description of the incident        |
| `severity`    | String    | Level of severity: `Low`, `Medium`, `High`   |
| `reported_at` | DateTime  | Timestamp when the incident was logged      |

---

## Design Decisions

- MongoDB + Mongoose for flexible, scalable document storage.
- Follows the MVC (Model-View-Controller) pattern for clear separation of concerns.
- Environment variables used for configuration (dotenv).
- Proper request body validation before creating new incidents.
- Error handling for invalid IDs, missing incidents, and server errors.
- Added a seed script for easy local testing.

---

## Error Handling

The API provides meaningful error responses:

| Error | HTTP Status Code | Cause |
|:------|:-----------------|:------|
| 400 Bad Request | Invalid input data or invalid MongoDB ObjectId |
| 404 Not Found | Record not found |
| 500 Internal Server Error | Server-side issues |

---

## Future Improvements

- [ ] Add authentication and authorization (JWT-based)
- [ ] Implement pagination for the `GET /incidents` endpoint
- [ ] Add search and filter capabilities (by severity, date range, etc.)
- [ ] Add update incident functionality (`PUT / PATCH`)
- [ ] Use `express-validator` for stronger input validation
- [ ] Create API documentation with Swagger / OpenAPI
- [ ] Write unit and integration tests (Jest + Supertest)

---

## License

This project is licensed under the **MIT License**.  
See the [LICENSE](LICENSE) file for details.

---

# ðŸš€ Happy Logging!

---